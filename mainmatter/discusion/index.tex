\chapter{DISCUSIÓN}
El departamento de deportes de la universidad Rafael Land\'ivar, le proporción\'o al investigador, la colaboraci\'on de todos los deportes -e.g. f\'utbol, voleibol, baloncesto, tenis, banda, zumba, atletismo, nataci\'on, taekwondo, tenis de mesa y animaci\'on-. Lo cual el investigador tuvo que realizar filtros para seleccionar la poblaci\'on, descartando aquellos deportes que entrenaban en las federaciones nacionales de Guatemala -i.e. Lugares externos a la universidad Rafael Land\'ivar-, entre ellos estaban: Atletismo, nataci\'on y tenis. Por otro lado, el investigador apart\'o los deportes que se ejercitaban con objetos externos dentro de una \'area grande -i.e. Canchas deportivas-, como por ejemplo:  f\'utbol, voleibol y baloncesto. Y finalmente, el investigador ignor\'o los deportes de banda y zumba, debido que son actividades que se trabajan en conjunto con otros departamentos de la universidad Rafael Landivar -e.g. Unidad de artes land\'ivar-. De modo que el investigador trabaj\'o con los deportes: Taekwondo, tenis de mesa y animaci\'on.
\medbreak
Posteriormente a la selecci\'on de deportes, el investigador se enfrent\'o con el reto de escoger el movimiento de an\'alisis, ya que en cada deporte exist\'ia movimientos complejos que implicaba moverse fuera del rango del sensor del Kinect, sin embargo, el investigador observ\'o que durante el calentamiento, los atletas realizaban movimientos simples -i.e. Movimientos que permanece en la misma \'area de trabajo, como una sentadilla-. Por lo cual, con la ayuda de cada entrenador, se eligi\'o un movimiento del calentamiento que puede ejecutar cualquier atleta (Sin importar el nivel deportivo), adem\'as de ser un movimiento que se emplea constantemente en el deporte para aprender nuevo movimientos, por ejemplo: En tenis de mesa se analiz\'o el movimiento unilateral, derecha est\'atico, movimiento de aprendizaje repetitivo que se emplea para aprender saques m\'as complicados, tales como: Backspin (Saque con efecto hacia abajo) o Topspin (Saque con efecto hacia arriba). Por otro lado, en animaci\'on se estudi\'o el salto Jumping Jack, saltos bilaterales y repetitivos que se emplea para calentar y aprender nuevos saltos, en concreto, Jumping Toe-Toech (Salto en donde el atleta toca las puntas de los p\'ies). Y finalmente en taekwondo, se examin\'o la patada b\'asica, Yop Chagui, patada unilateral que se emplea en patadas: circulares (Dollyo Chagui) o descendentes (Neryo Chagui).
\medbreak
Para el an\'alisis de cada movimiento es necesario separar el cuerpo humano en dos partes: Superior, la cual se conforma por las articulaciones por arriba de la cadera central (Brazo derecho e izquierdo). Y por otro lado se encuentra la parte inferior, compuestos por las articulaciones por debajo de la cadera central. Dicha separación se realiza debido que los movimientos utilizan alguna de estas dos partes para realizar la acci\'on, por ejemplo, durante un saque derecha (Tenis de mesa), la parte superior permanece en movimiento mientras que la parte inferior permanece casi est\'atico -i.e sin movimiento-, en cambio en una patada lateral (Taekwondo), utiliza la parte superior como soporte y la parte inferior est\'a en desplazamiento. No obstante, existe algunos movimientos que utilizan ambas partes del cuerpo, en particular, el salto Jumping Jacks (Animaci\'on), ya que es un movimiento que hace mover todas las articulaciones del cuerpo humano.
\medbreak
Continuando con el an\'alisis de los movimientos, los pasos es una gu\'ia de coordinaci\'on para ejecutar correctamente el movimiento, reduciendo as\'i el riesgo de tener alguna lesión muscular. De modo que por cada paso se etiqueta con un valor \'unico decimal entre 0 y 1, y as\'i mismo se busca distribuir las etiquetas por partes iguales (Con la ayuda de la variable offset). Pongamos por caso, el salto Jumping Jacks, movimiento cuyo valor de offset es de 0.5, por consiguiente, se distribuye la etiqueta inicial y final con valores de: 0 y 1 (Respectivamente), y se reparte una etiqueta intermedia con valor de 0.5, De modo que la diferencia absoluta entre dos etiquetas continuas es igual o cercano al valor de offset.
\medbreak
Entendiendo los conceptos de los pasos de un movimiento, es necesario conocer en qu\'e  momento est\'a realizando un paso el atleta, lo cual es posible a partir de la variable de identificaci\'on, que permite construir rangos \'unicos y equitativos para cada paso, tal como se muestra en la patada lateral, se identifica el paso 1,  si el valor del factor de movimiento se encuentra entre 0 y 0.25. As\'i mismo otro detalle que se puede observar, es que para los rangos de los pasos intermedios de reconocimiento, el valor de factor movimiento puede estar por arriba o por abajo del valor de etiqueta, lo cual se debe tomar en cuenta a la hora de construir los intervalos de confianza  -i.e. Medida de precis\'on del movimiento-.
\medbreak 
Otra parte importante que se considera en el an\'alisis de cada movimiento, es el calentamiento previamente antes de realizar la toma de datos, debido que esta actividad permite preparar el organismo del cuerpo humano, con el fin objetivo de que el atleta tenga un mejor rendimiento f\'isico, adem\'as de disminuir el riesgo de tener una lesi\'on f\'isica durante el entrenamiento. Lo cual cada deporte utiliza alrededor de 20 a 45 minutos para realizar distintos ejercicios cardiovasculares -e.g. Saltar, trotar, correr, abdominales, sentadillas-. Adem\'as de calentar cada articulaci\'on del cuerpo humano, con la ayuda de movimientos musculares y de estiramientos -e.g. flexiones, extensiones, rotaciones, abducciones-.
\medbreak 
Al mismo tiempo, se estandariz\'o la captura de datos con la finalidad de obtener un mismo n\'umero de repeticiones del movimiento por atleta. Dicha estandarizaci\'on se separ\'o en dos tipos de entrenamientos por intervalos controlados: La primera consta en una rutina por tiempo, la cual se aplic\'o en el deporte de animaci\'on debido que cada atleta realizaban una cantidad de repeticiones de Jumping Jacks al ritmo de una canci\'on (Cuya duraci\'on era de 2 minutos con 45 segundos). Mientras tanto, en los deportes de taekwondo y tenis de mesa, se realiz\'o la rutina de escaleras, dado que se le facilitaba a cada atleta la contabilizaci\'on de repeticiones.
\medbreak 
Con relaci\'on al funcionamiento del seguimiento de esqueleto durante la ejecuci\'on de cada movimiento, es importante conocer la altura de cada atleta (Medida por la diferencia entre las articulaciones de la Cabeza y p\'ies), dado que es una variable que facilita al investigador ubicar correctamente la distancia de profundidad entre el el usuario y el sensor, de tal modo que el API del Kinect genere completamente el esqueleto del deportista. Por consiguiente, se debe considerar la altura del sensor con respecto al suelo (En el proyecto fue medida por una mesa de soporte, cuya altura era de 0.70 metros) y la articulaci\'on de referencia que permite medir la distancia de profundidad (En este caso fue la cadera central, dado que es la articulaci\'on central que separa las dos partes del cuerpo -i.e. Superior e inferior-), esto permite instalar el prototipo de toma de datos en otros ambientes. En resumen, en el proyecto se midi\'o  a 26 atletas (Considerando todos los deportes), cuyas alturas estaban en el rango de 1.22 mts a 1.46 mts (Tomando en cuenta la desviaci\'on est\'andar de la altura m\'inima y m\'axima promedio), la cual se concluy\'o que la distancia de profundidad recomendadas para generar el seguimiento de esqueleto, est\'a en el rango de 2.56 a 3.99 metros.
\medbreak 
Continuando con el tema del funcionamiento del seguimiento de esqueleto, es un factor importante para construir el modelo de reconocimiento de movimiento, por lo cual es necesario que genere completamente el esqueleto humano en todos los pasos respectivos de cada movimiento (Ver fotogramas de los deportes de tenis de mesa y animaci\'on), sin embargo, algunas veces puede generar incorrectamente el seguimiento del esqueleto, tal como se observa en el paso 2 y 3, de la patada lateral en taekwondo, el esqueleto no coincide con la sombra del atleta, y por consiguiente puede alterar al pr\'onostico del reconocimiento del movimiento. En cuanto a la generaci\'on incorrecta del seguimiento de esqueleto, puede ser a causa de la posici\'on de c\'amara -i.e. Direcci\'on y altura-, o la interaci\'on de objetos externos y personas, en el caso de Taekwondo, el atleta realizaba una patada lateral, para golpear un objetivo sostenido por otro atleta (El atleta que sosten\'ia el objetivo estaba fuera del rango del sensor).
\medbreak 
En cuanto al modelo de reconocimiento de movimiento, se utiliza el software proporcionado por las herramientas del sensor Kinect, Visual Gesture Builder, debido que es un programa gratuito de inteligencia artificial para crear soluciones de reconocimiento de posturas din\'amicas o est\'aticas, a partir del proceso de etiquetaci\'on de fotogramas. De modo que en el proyecto se etiquet\'o cada repetici\'on de un movimiento din\'amico, adem\'as de ignorar algunos fotogramas, ya que se considera datos incorrectos, como por ejemplo, los fotogramas del recorrido del paso final al inicial de un movimiento (Existe distintas manera de regresar a la posici\'on inicial). As\'i mismo no se etiquet\'o los fotogramas en donde fallaba el seguimiento de esqueleto del atleta, pongamos por caso en Taekwondo y animaci\'on, se grab\'o los datos en un lugar abierto en donde entrenaba otros deportes -e.g. Baloncesto y Voleibol-, por consiguiente se tuvo algunas fallas en el seguimiento de esqueleto durante las grabaciones de toma de datos, entre ellos se encuentra: La interrupci\'on de otros atletas o la desconexi\'on de la fuente de energ\'ia del sensor. En resumen, se etiquet\'o correctamente un total de 332 repeticiones del saque derecha (Tenis de mesa), 1129 repeticiones de Jumping Jack (Animaci\'on) y finalmente  155 repeticiones de patadas laterales (Taekwondo).
\medbreak 
Con relaci\'on a la validaci\'on  del reconocimiento de movimiento, se utiliz\'o la t\'ecnica de validaci\'on cruzada, K-Fold, debido que es un procedimiento que funciona muy bien para  muestras peque\~nas, ya que permite evaluar distintos modelos de inteligencia artificial a partir de combinaciones de datos de entrenamiento y testeo. Por lo tanto, en el proyecto se realiz\'o  3 modelos de reconocimiento por movimiento, y por cada modelo se separ\'o una grabaci\'on de testeo y  las grabaciones restantes se utilizar\'on para construir el modelo.
\medbreak 
Es importante resaltar que el modelo de reconocimiento de movimiento no es perfecto, ya que hay una dispersión entre el valor etiquetado -i.e. Valor esperado- y el valor pronosticado por el modelo, dicha diferencia se le denomina error de pron\'ostico. Adem\'as, por cada modelo se obtiene un conjunto de errores de pron\'ostico, que permite calcular distintas medidas de dispersi\'on. Por lo tanto, para el presente proyecto se trabaj\'o con el error medio pron\'osticado, puesto que el signo del resultado indica la subestimaci\'on -i.e. Negativo- o sobrestimaci\'on -i.e. Positivo- de la desviaci\'on media absoluta de los errores de pron\'ostico -i.e. Promedio de errores, sin importar el signo-. Al mismo tiempo, se determin\'o la ra\'iz  del error cuadr\'atico medio (RECM), que muestra la desviaci\'on por arriba o por abajo respecto a un valor esperado, en resumen, este valor aumenta la precisi\'on del rango de identificaci\'on, construyendo as\'i nuevos intervalos de confianza.
\medbreak 
Con relacio\'n a la construcci\'on de los intervalos de confianza de un modelo, se construye dependiendo de cada paso, es decir para el paso inicial de un movimiento se suma el valor de la etiqueta y el RECM, debido que no existe valores negativos, adem\'as para el paso final de un movimiento se le resta la etiqueta y el valor RECM,  ya que no existe valores mayores a 1 y finalmente para un paso intermedio, se debe sumar o restar la etiqueta y la mitad del valor RECM, dado que se busca mantener equidad de dispersi\'on entre todos los pasos.
\medbreak 
Continuando con la validaci\'on cruzada, se selecciona el modelo que tenga la menor desviaci\'n media absoluta y el menor RECM. As\'i mismo, para construir los intervalos de confianza, se utiliza el promedio RECM, ya que toma en cuenta distintas combinaciones de muestras de testeo. No obstante, se de aprobar o rechazar el modelo seleccionado, lo cual es necesario comparar el valor del RECM promedio y la variable de identificaci\'on del movimiento, debido que esta variable indica el valor m\'aximo de identificaci\'on de un paso de un movimiento. Por lo tanto si el RECM promedio es menor que la variable de identificaci\'on, se aprueba, tal como se presenta en los movimientos de Jumping Jack (animaci\'on) y el saque derecha (tenis de mesa). Por otro lado, si el RECM promedio es mayor o igual que la variable de identificaci\'on, se rechaza el modelo, debido que esta sobrepasa el valor de identificaci\'on y adem\'as puede llegar a confundir con otro paso del movimiento. En efecto sucedi\'o con la patada lateral (taekwondo), la cual tuvo un mayor RECM, debido a la funci\'on incorrecta del seguimiento del esqueleto (En los pasos 2 o 3) o la poca muestra de repeticiones del movimiento (155 repeticiones).
\medbreak
Comprendiendo la aprobaci\'on del modelo de reconocimiento del movimiento, es necesario encontrar la variable de reconocimiento, la cual representa una parte del valor de identificaci\'on. Por lo tanto, este valor se encuentra entre un valor de 0 a 1 (La cual puede ser representado en t\'erminos de porcentaje). De modo que esta variable se puede encontrar de dos manera: La primera consta de la t\'ecnica de prueba y error (Se emplea \'unicamente si no se tiene las herramientas para determinar los errores del modelo), la cual consiste en ajustar el valor de esta variable y observar el comportamiento del modelo hasta que se tenga un modelo correcto o deseable. \'O por otra parte se utiliza la t\'ecnica empleada en el proyecto, la cual consta en encontrar la proporcionalidad entre el valor RECM promedio y el valor de identificaci\'on.
\medbreak
Igualmente con los modelos aprobados se realiz\'o un an\'alis de regresi\'on de la distancia recorrida de una articulaci\'on y su respectivo tiempo, para verificar que se ha entrenado con distintos datos de entrenamiento, por lo cual se seleccion\'o la mu\~neca derecha, debido que es una de las articulaciones que est\'an en constante movimiento, por ejemplo, los animadores durante la trayectoria del paso 1 al 2, la mu\~neca derecha recorre distancias de 0.20 a 0.50 metros (Durante el segundo 0.20), mientras que la trayectoria del paso 1 al 3, la mu\~neca derecha recorre distancias de 0.50 a 0.90 metros (Durante el segundo 0.40). As\'i mismo la mu\~neca derecha de los tenista recorre distancias de 0.40 a 1.15 metros (Durante el segundo 0.5), en la trayectoria del paso 1 al 2, de un saque derecha.
