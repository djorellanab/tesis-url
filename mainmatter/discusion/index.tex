\chapter{Discusi\'on}
Este proyecto de ingenier\'ia present\'o una aplicaci\'on en el \'area deportiva para medir la repetici\'on de un movimiento v\'alido por medio del estudio de la coordinaci\'on, habilidad f\'isica que permite al atleta combinar dos o m\'as pasos requeridos para ejecutar el movimiento. 
\medbreak
La coordinaci\'on fue medida a trav\'es del factor del movimiento, variable de estudio que representa la transici\'on del movimiento en un valor num\'erico que es obtenida a partir de la etiquetaci\'on de fotogramas de cada paso del movimiento, con la herramienta de Visual Gesture Builder.
\medbreak
Esta herramienta emplea una tecnolog\'ia de m\'aquina de aprendizaje, la cual recibe como datos de entradas los fotogramas etiquetados y como salida proporciona una base de datos de gesturas encriptada (.gdb), que es utilizada por una biblioteca de enlace din\'amico (DLL) del Kinect, que implementa el algoritmo Random Forest Regression.
\medbreak
En cuanto a los fotogramas, son grabados en v\'ideos por la herramienta Kinect studio. Esta herramienta permite grabar distintos monitores del Kinect, entre ellos se utilizaron el monitor de infrarrojo (para detectar los objetos) y los monitores del cuerpo humano (para detectar el seguimiento del esqueleto).
\medbreak
Cada v\'ideo consiste en grabar atletas, ejecutando repeticiones del movimiento v\'alidos de acuerdo con los criterios del profesional (dentro del rango de distancias de profundidades), con el fin objetivo de proporcionar distintos fotogramas de un paso de un movimiento v\'alido (tal como se observa en los resultados de fotogramas del movimiento).
\medbreak
As\'i mismo el profesional tiene un papel importante en el proyecto, debido que estableci\'o los pasos que deben seguir el movimiento. Y al mismo tiempo, conoce las habilidades f\'isicas de cada atleta, permitiendo saber el n\'umero de repeticiones v\'alidas que puede ejecutar cada atleta (tal como se observa en los resultados de proceso de etiquetaci\'on de un movimiento).
\medbreak
En cuanto al n\'umero de atletas de entrenamiento y testeo, el investigador utiliz\'o solo un v\'ideo de testeo y los dem\'as v\'ideos se utilizaron para el entrenamiento del modelo, sin embargo, este criterio puede ser modificado para futuros trabajos, seleccionando la muestra de testeos de un atleta profesional (mejor de los casos), un atleta regular (caso medio) y un nuevo atleta (peor de los casos).
\medbreak
Por otra parte, la muestra se considera peque\~na con relaci\'on a las cantidades de datos que utilizaron en los trabajos relacionados, por lo tanto, para resolver este problema se utiliz\'o la validaci\'on cruzada 3-Fold, que permite crear 3 submodelos con distintas combinaciones de datos de entrenamientos y testeos (creadas a partir de la muestra), con la finalidad de observar como se comporta el modelo con distintos datos.
\medbreak
Con respecto a la etiquetaci\'on de fotogramas de un movimiento v\'alido, el investigador estableci\'o que para el paso inicial tendr\'a un valor de cero y para el paso final tendr\'a un valor uno, de modo que facilita etiquetar los pasos intermedios por partes iguales (valor offset), y por otro lado permite crear rangos iguales para identificar cada paso (valor de identificaci\'on).
\medbreak
Por cada submodelo se etiquet\'o los fotogramas de los videos de entrenamiento para obtener su base de datos de gesturas, posteriormente esa base de datos fue utilizada en la secci\'on de an\'alisis de Visual Gesture Builder, que permite comparar el valor etiquetado (valor esperado) y el factor del movimiento por fotograma (valor obtenido), de manera de obtener el error del factor del movimiento.
\medbreak
El modelo seleccion\'o el submodelo que tenga la menor desviaci\'on del factor del movimiento con respecto a la etiqueta (RECM), en caso de que exista m\'as submodelos con el mismo valor de RECM, se selecciona el submodelo que tenga la menor dispersi\'on del factor del movimiento (MAD).
\medbreak
La desviaci\'on del factor del movimiento con respecto a la etiqueta es un error importante en el proyecto, ya que a partir de ello se construye los intervalos de confianza para reconocer los pasos requeridos de un movimiento, de modo que se cre\'o el criterio de aceptaci\'on del modelo para evitar que los intervalos de confianza de los pasos intermedios colisionen con otros intervalos.
\medbreak
El modelo de taekwondo es rechazado porque no cumple con el criterio de aceptaci\'on, y esto es debido por su gran error, que puede ser a dos causas:
\begin{enumerate}[1.]
\item El tama\~no de la muestra es peque\~na comparada con las muestras de animaci\'on y tenis de mesa (modelos aceptados).
\item Durante los fotogramas del paso dos y tres (de una patada lateral), el seguimiento del esqueleto no concuerda con la sombra del atleta.
\end{enumerate}
Por otra parte, la certeza de los modelos aceptados est\'a dado por su recognition, valor porcentual que determina que tan parecidos son los fotogramas dentro del intervalo de confianza con respecto al fotograma de cada paso (valor esperado). Tal como se observa en los resultados, el equipo de animaci\'on tiene un 82.96\% de recognition (valor cercano al 100\%), lo cual reconoce fotogramas que tienen peque\~nos desplazamientos en los pies y brazos, mientras que para el equipo de tenis de mesa tiene un recognition de 52.08\%  (valor alejado al 100\%), donde reconoce fotogramas que tienen mayores desplazamientos en todas las articulaciones.
\medbreak
As\'i mismo, el modelo de reconocimiento de cada paso funciona con el movimiento que fue entrenado y testeado, esto quiere decir que el modelo de reconocimiento de pasos jumping jacks trata de no reconocer los pasos de un saque derecha, y viceversa (tal como se muestra en el cuadro comparativo entre un jumping jack  y saque derecha).
\medbreak
En cuanto al algoritmo clasificador del movimiento v\'alido, chequea todos los fotogramas capturados por el sensor Kinect, en donde por cada fotograma obtiene el factor del movimiento, a partir del algoritmo, Random Forest Regression, posteriormente examina si el factor del movimiento se encuentra en un intervalo de confianza para detectar el paso. Finalmente, estos procesos se repiten hasta verificar que sea una repetici\'on de un movimiento v\'alido (detect\'o todos los pasos del movimiento de manera ordenada) o una repetici\'on de un movimiento inv\'alido (indicando el paso que no se detect\'o).
\medbreak
Este algoritmo clasificador se aplic\'o a cada v\'ideo de testeo, para clasificar todas las repeticiones de los atletas de acuerdo a los intervalos de confianza de detecci\'on de cada paso, por consiguiente se calcul\'o el porcentaje de clasificaci\'on v\'alidas e inv\'alidas y as\'i mismo se calcul\'o los porcentajes de cada paso no detectado (en las repeticiones inv\'alidas), tal como se observa en los resultados:
\begin{itemize}
\item	De acuerdo con el algoritmo clasificador, las animadoras de testeos realizaron un 49.43\% de repeticiones inv\'alidas de jumping jacks, debido que durante varias repeticiones fallaron en el paso tres (70.93\%) o pocas veces fallaron en el paso dos (29.07\%).
\item De acuerdo con el algoritmo clasificador, los jugadores de testeos de tenis de mesa realizaron un 34.69\% de repeticiones inv\'alidas de saques derecha, debido que durante varias repeticiones fallaron en el paso dos (82.35\%) o rara vez fallaron en el paso uno (17.65\%).
\end{itemize}
Al mismo tiempo, el algoritmo clasificador determin\'o los porcentajes de referencias, valores que fueron encontrados a partir de las combinaciones que se pueden dar una repetici\'on inv\'alida y el caso de una repetici\'on v\'alida. 
\medbreak
Por lo tanto, el algoritmo de clasificaci\'on es aceptable si mejora el porcentaje real de v\'alidas con respecto al porcentaje de referencia v\'alidas, en caso contrario, se rechaza el algoritmo de clasificaci\'on.
\medbreak
En cuanto al proceso de validaci\'on del modelo de detecci\'on de pasos y el algoritmo de clasificaci\'on de movimientos v\'alidos, se utilizaron atletas que no participaron en el proceso de entrenamiento y testeo. As\'i mismo, el profesional le program\'o a cada atleta una rutina tabata de dos series de 40 segundos de trabajo y 20 segundos de descanso, con la finalidad de validar ambos elementos (detecci\'on de paso y clasificaci\'on de movimiento v\'alido). Al finalizar cada rutina se le proporcion\'o los resultados de las repeticiones v\'alidas por serie de trabajo y el tiempo que ejecuta una repetici\'on v\'alida (ambos resultados miden la habilidad f\'isica, velocidad). 
\medbreak
Para verificar que el algoritmo clasificador funcione en el proceso de validaci\'on, se realiz\'o un pron\'ostico donde los atletas ejecutan constantemente la repetici\'on m\'as larga de la muestra de entrenamiento y testeo (durante el tiempo de trabajo de tabata). Posteriormente se calcul\'o el total de repeticiones pronosticadas v\'alidas (a partir del porcentaje de movimientos v\'alidas), con el fin objetivo de comparar las repeticiones v\'alidas realizadas en el entrenamiento tabata. Como resultado, el modelo detect\'o m\'as repeticiones v\'alidas comparado con el peor de los casos.
\medbreak
En conclusi\'on, se puede afirmar la hip\'otesis del proyecto, ya que durante un entrenamiento tabata (actividad f\'isica), el modelo contabiliza las repeticiones v\'alidas durante el tiempo de trabajo, de modo que se resuelve los planteamientos  del problema:
\begin{itemize}
\item	Para la primera problem\'atica, el profesional puede programar rutinas tabata que implemente el modelo clasificador de un movimiento v\'alido, con el fin objetivo que el usuario entrene el movimiento y vea su progreso por medio de las repeticiones v\'alidas.
\item	Para la segunda problem\'atica, el profesional puede programar rutinas tabata al usuario con el fin de objetivo de verificar si est\'a realizando repeticiones v\'alidas. En caso de que no contabilice, el profesional le puede ayudar al atleta a adaptar el movimiento para que pueda contabilizar la repetici\'on v\'alida.
\end{itemize}
